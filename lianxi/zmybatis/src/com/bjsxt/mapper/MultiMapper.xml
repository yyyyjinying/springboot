<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bjsxt.mapper.MultiMapper">

	<resultMap type="teacher" id="mymap">
		<!-- 主键使用id标签配置映射关系 -->
		<id column="id" property="id" />
		<!-- 其他列使用result标签配置映射关系 -->
		<result column="name" property="name"/>
	</resultMap>

	<select id="selTeacher" resultMap="mymap">
		select * from teacher
	</select>
	<select id="selTid" parameterType="int" resultType="teacher">
		select * from teacher where id=#{0}
	</select>


	<resultMap id="jMap" type="teacher">
		<id column="tid" property="id"></id>
		<result column="tname" property="name"></result>
		<collection property="list" ofType="student">
			<id column="sid" property="id"></id>
			<result column="sname" property="name"></result>
			<result column="stid" property="tid"></result>
			<result column="age" property="age"></result>
		</collection>
	</resultMap>
	<select id="selJoin" resultMap="jMap">
		select t.id as tid,t.name as tname,s.id as sid,s.tid as stid, s.name as sname,s.age as age from teacher as t left join student as s on t.id=s.tid
	</select>

	<!--<resultMap id="tMap" type="teacher">-->
		<!--<id column="id" property="id"></id>-->
		<!--<result column="name" property="name"></result>-->
		<!--<collection property="list" ofType="student">-->
			<!--<id column="list.id" property="id"></id>-->
			<!--<result column="list.name" property="name"></result>-->
		<!--</collection>-->

	<!--</resultMap>-->

	<select id="sTeacher" resultType="teacher">
		select t.id id,t.name name,s.id `list.id`,s.name `list.name`,s.age `list.age`,s.tid `list.tid` from teacher as t left join student as s on t.id=s.tid
	</select>
</mapper>